# 业务逻辑分析

## 描述

分析角色、操作、步骤、反馈
字段/规则/输入提示/错误提示

## 后台管理系统
- 类别管理
    - 增
        - 字段列表与规则：
            - 名称
                - 规则
                    - 非空
                    - 1-20个字符
                    - 仅中、英文字母、数字和下划线(白名单)
                    - 不能重复
                - 输入提示
                    - 1-20个字符
                - 错误提示
                    - 后台
                        - 类别名称不能为空
                        - 类别名称长度应为1-20个字符
                        - 类别名称仅支持中英文、数字和下划线
                        - 已存在该类别
                    - 前端
                        - 请输入1-20个字符，仅支持中英文、数字和下划线
            - 描述
                - 规则
                    - 转义特殊字符(防止XSS)
                    - 小于255个字符
                - 输入提示
                    - 请输入255个字符以内
                - 错误提示
                    - 类别描述输入字符过多，超过255个字符
            - 父类别（隐藏字段）
                - 规则
                    - 非空
                    - 检查是否存在父类别
                    - 不能为三级类别
                - 输入提示
                - 错误提示
                    - 父类别非法操作，否则请联系管理员
            - 级别（隐藏字段）
                - 规则
                    - 非空
                    - 检查是否为有效级别(只能为1或2或3)
                - 输入提示
                - 错误提示
                    - 级别非法操作，否则请联系管理员
            - 是否启用
                - 规则
                    - 非空
                    - 检查是否为true/false
                - 输入提示
                - 错误提示
                    - 是否启用字段非法操作，否则请联系管理员
    - 改
        - 字段列表与规则：
            - 类别编号（隐藏字段）
                - 规则
                    - 检查是否存在
                - 输入提示
                - 错误提示
                    - 类别编号非法操作，否则请联系管理员
            - 名称
                - 和添加一致
            - 描述
                - 和添加一致
            - 父类别
                - 和添加一致
            - 级别（隐藏字段）
                - 和添加一致
                - 规则
                    - 不能降级(父类别级别要比自己原本级别小)
                - 输入提示
                - 错误提示
                    - 非法操作，否则请联系管理员
                    - 级别不能降级
            - 是否启用
                - 和添加一致
    - 查
        - 树状展示
        - 根据启用状态筛选
            - 全部类别
            - 启用类别（默认）
    - 规则
        - 共3层
        - 只有第三层可以添加物品
        - 第三层不能添加子类别
- 统计报表
    - 租用日统计
        - 查询条件：开始创建日期、结束创建日期、类别、状态
        - 统计维度：类别、创建日期、状态
        - 查询结果：类别、创建日期、状态、总数、押金汇总、租金汇总
## 用户租赁系统
### 角色
- 出租人
- 承租人
- ROOT：运行访问全部资源
- 游客：允许访问部分资源
### 业务
- 注册
- 登录
- 个人信息管理